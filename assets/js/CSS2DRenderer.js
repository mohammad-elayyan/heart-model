!function(){class e extends THREE.Object3D{constructor(e){super(),this.element=e||document.createElement("div"),this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}e.prototype.isCSS2DObject=!0;const t=new THREE.Vector3,n=new THREE.Matrix4,r=new THREE.Matrix4,o=new THREE.Vector3,i=new THREE.Vector3;THREE.CSS2DObject=e,THREE.CSS2DRenderer=class{constructor(){const e=this;let s,a,l,c;const d={objects:new WeakMap},u=document.createElement("div");function m(n,o,i){if(n.isCSS2DObject){n.onBeforeRender(e,o,i),t.setFromMatrixPosition(n.matrixWorld),t.applyMatrix4(r);const s=n.element;/apple/i.test(navigator.vendor)?s.style.transform="translate(-50%,-50%) translate("+Math.round(t.x*l+l)+"px,"+Math.round(-t.y*c+c)+"px)":s.style.transform="translate(-50%,-50%) translate("+(t.x*l+l)+"px,"+(-t.y*c+c)+"px)",s.style.display=n.visible&&t.z>=-1&&t.z<=1?"":"none";const a={distanceToCameraSquared:p(i,n)};d.objects.set(n,a),s.parentNode!==u&&u.appendChild(s),n.onAfterRender(e,o,i)}for(let e=0,t=n.children.length;e<t;e++)m(n.children[e],o,i)}function p(e,t){return o.setFromMatrixPosition(e.matrixWorld),i.setFromMatrixPosition(t.matrixWorld),o.distanceToSquared(i)}u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:s,height:a}},this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),n.copy(t.matrixWorldInverse),r.multiplyMatrices(t.projectionMatrix,n),m(e,e,t),function(e){const t=function(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}(e).sort((function(e,t){return d.objects.get(e).distanceToCameraSquared-d.objects.get(t).distanceToCameraSquared})),n=t.length;for(let e=0,r=t.length;e<r;e++)t[e].element.style.zIndex=n-e}(e)},this.setSize=function(e,t){s=e,a=t,l=s/2,c=a/2,u.style.width=e+"px",u.style.height=t+"px"}}}}();